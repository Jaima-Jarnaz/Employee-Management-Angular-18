<div class="container mt-5">
  <div class="d-flex gap-3">
    <div>
      <h4 class="bg-body-secondary p-2">Client List</h4>
      <div class="card">
        <div class="card-body">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">SL</th>
                <th scope="col">Company Name</th>
                <th scope="col">Name</th>
                <th scope="col">Contact No</th>
                <th scope="col">City</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <!-- Table rows will go here -->
              @for (item of clientList; track $index) {
              <tr>
                <td>{{ $index + 1 }}</td>
                <td>{{ item.companyName }}</td>
                <td>{{ item.contactPersonName }}</td>
                <td>{{ item.contactNo }}</td>
                <td>{{ item.city }}</td>
                <td>
                  <button class="btn btn-primary" (click)="editClient(item)">
                    Edit
                  </button>
                </td>
                <td>
                  <button
                    class="btn btn-danger"
                    (click)="deleteClientById(item.clientId)"
                  >
                    Delete
                  </button>
                </td>
              </tr>
              }
              <!-- Add more rows as needed -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="rounded shadow mr-2">
      <h4 class="bg-body-secondary p-2">New Client</h4>
      <form class="px-3 py-2" #form="ngForm">
        <div class="row g-3">
          <div class="col-md-6">
            <label for="name" class="form-label">Name</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.contactPersonName"
              name="personFirstName"
              class="form-control"
              id="name"
              required
              minlength="4"
              #personName="ngModel"
            />
            @if (personName.touched) { @if (personName?.errors?.["required"]) {
            <div class="p-1 text-danger">
              <span>This is required</span>
            </div>
            } @if (personName?.errors?.['minlength']) {
            <div class="p-1 text-danger">
              <span>Minimum length is 4</span>
            </div>
            } }
          </div>
          <div class="col-md-6">
            <label for="companyName" class="form-label">Company Name</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.companyName"
              name="companyName"
              class="form-control"
              id="companyName"
            />
          </div>
          <div class="col-md-6">
            <label for="contactNo" class="form-label">Contact No</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.contactNo"
              name="contactNo"
              class="form-control"
              id="contactNo"
            />
          </div>
          <div class="col-md-6">
            <label for="city" class="form-label">City</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.city"
              name="city"
              class="form-control"
              id="city"
            />
          </div>
          <div class="col-md-6">
            <label for="state" class="form-label">State</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.state"
              name="state"
              class="form-control"
              id="state"
            />
          </div>
          <div class="col-md-6">
            <label for="pincode" class="form-label">Pincode</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.pincode"
              name="pincode"
              class="form-control"
              id="pincode"
            />
          </div>
          <div class="col-md-12">
            <label for="address" class="form-label">Address</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.address"
              name="address"
              class="form-control"
              id="address"
            />
          </div>
          <div class="col-md-12">
            <label for="regNo" class="form-label">Reg No</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.regNo"
              name="regNo"
              class="form-control"
              id="regNo"
            />
          </div>
          <div class="col-md-6">
            <label for="employeeStrength" class="form-label"
              >Employee Strength</label
            >
            <input
              type="text"
              [(ngModel)]="clientFormObject.employeeStrength"
              name="employeeStrength"
              class="form-control"
              id="employeeStrength"
            />
          </div>
          <div class="col-md-6">
            <label for="gst" class="form-label">GST</label>
            <input
              type="text"
              [(ngModel)]="clientFormObject.gstNo"
              name="gst"
              class="form-control"
              id="gst"
            />
          </div>
        </div>

        <div class="col-md-12 d-grid gap-2">
          <button
            type="button"
            class="btn btn-success mt-4"
            [disabled]="!form.valid"
            (click)="onSaveClient()"
          >
            {{ clientFormObject.clientId !== 0 ? "Update" : "SAVE" }}
          </button>
        </div>

        <div class="col-md-12 g-3 d-grid">
          <button type="button" class="btn btn-warning mt-4 mr-4">RESET</button>
        </div>
      </form>
    </div>
  </div>
</div>
